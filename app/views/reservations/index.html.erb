<div class="container mt-5">
  <h2 class="mb-4">üìÖ „Åî‰∫àÁ¥ÑÁä∂Ê≥Å</h2>

  <div class="card shadow-sm">
    <div class="card-body">
      <%= month_calendar(first_day: :sunday, class: "table table-bordered") do |date| %>
        <div class="p-2">
          <strong><%= date.day %></strong><br>

          <% Site.all.each do |site| %>
            <% if date < Date.current %>
              <div class="text-muted small">
                <%= site.name %>: <span class="text-danger">√ó</span>
              </div>
            <% else %>
              <% reserved = Reservation.exists?(site_id: site.id, start_date: date) %>
              <div class="small">
                <%= site.name %>:
                <% if reserved %>
                  <span class="text-danger fw-bold">√ó</span>
                <% else %>
                  <%= link_to "‚óØ", new_reservation_path(site_id: site.id, start_date: date), data: { turbo: false }, class: "text-success fw-bold text-decoration-none" %>
                <% end %>
              </div>
            <% end %>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>